<p>ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ <code>nums</code> å’Œä¸€ä¸ªæ•´æ•°&nbsp;<code>k</code> ï¼Œè¯·ä½ ç»Ÿè®¡å¹¶è¿”å› <em>è¯¥æ•°ç»„ä¸­å’Œä¸º&nbsp;<code>k</code><strong>&nbsp;</strong>çš„è¿ç»­å­æ•°ç»„çš„ä¸ªæ•°&nbsp;</em>ã€‚</p>

<p>&nbsp;</p>

<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>nums = [1,1,1], k = 2
<strong>è¾“å‡ºï¼š</strong>2
</pre>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>nums = [1,2,3], k = 3
<strong>è¾“å‡ºï¼š</strong>2
</pre>

<p>&nbsp;</p>

<p><strong>æç¤ºï¼š</strong></p>

<ul>
	<li><code>1 &lt;= nums.length &lt;= 2 * 10<sup>4</sup></code></li>
	<li><code>-1000 &lt;= nums[i] &lt;= 1000</code></li>
	<li><code>-10<sup>7</sup> &lt;= k &lt;= 10<sup>7</sup></code></li>
</ul>
<details><summary><strong>Related Topics</strong></summary>æ•°ç»„ | å“ˆå¸Œè¡¨ | å‰ç¼€å’Œ</details><br>

<div>ğŸ‘ 1637, ğŸ‘ 0</div>

<div id="labuladong"><hr>

**é€šçŸ¥ï¼š[æ•°æ®ç»“æ„ç²¾å“è¯¾ V1.8](https://aep.h5.xeknow.com/s/1XJHEO) æŒç»­æ›´æ–°ä¸­ã€‚**

<details><summary><strong>labuladong æ€è·¯</strong></summary>

## åŸºæœ¬æ€è·¯

è¿™é“é¢˜ä¾ç„¶è€ƒå¯Ÿ [å‰ç¼€å’ŒæŠ€å·§](https://appktavsiei5995.pc.xiaoe-tech.com/detail/i_62656034e4b0cedf38a93af3/1) å’Œå“ˆå¸Œè¡¨çš„ç»“åˆä½¿ç”¨ï¼Œè¯·ä½ å…ˆè§£å†³ [523. è¿ç»­çš„å­æ•°ç»„å’Œ](#523) å’Œ [525. è¿ç»­æ•°ç»„](/problems/contiguous-array)ï¼Œç„¶åè¿™é“é¢˜å°±å¾ˆå®¹æ˜“è§£å†³äº†ã€‚

æœ¬é¢˜å’Œå‰ä¸¤é¢˜çš„æœ€å¤§åŒºåˆ«åœ¨äºï¼Œéœ€è¦åœ¨ç»´æŠ¤ `preSum` å‰ç¼€å’Œæ•°ç»„çš„åŒæ—¶åŠ¨æ€ç»´æŠ¤ `count` æ˜ å°„ï¼Œè€Œä¸èƒ½ç­‰åˆ° `preSum` è®¡ç®—å®Œæˆåå†å¤„ç† `count`ï¼Œå› ä¸º `count[need]` åº”è¯¥ç»´æŠ¤ `preSum[0..i]` ä¸­å€¼ä¸º `need` çš„å…ƒç´ ä¸ªæ•°ã€‚

ç»“åˆå‰ä¸¤é¢˜çš„æ€è·¯ï¼Œæœ¬é¢˜æ€è·¯çœ‹ä»£ç æ³¨é‡Šå§ã€‚

**æ ‡ç­¾ï¼šå‰ç¼€å’Œï¼Œå“ˆå¸Œè¡¨ï¼Œ[æ•°ç»„](https://mp.weixin.qq.com/mp/appmsgalbum?__biz=MzAxODQxMDM0Mw==&action=getalbum&album_id=2120601117519675393)**

## è§£æ³•ä»£ç 

```java
class Solution {
    public int subarraySum(int[] nums, int k) {
        int n = nums.length;
        // å‰ç¼€å’Œæ•°ç»„
        int[] preSum = new int[n + 1];
        preSum[0] = 0;
        // å‰ç¼€å’Œåˆ°è¯¥å‰ç¼€å’Œå‡ºç°æ¬¡æ•°çš„æ˜ å°„ï¼Œæ–¹ä¾¿å¿«é€ŸæŸ¥æ‰¾æ‰€éœ€çš„å‰ç¼€å’Œ
        HashMap<Integer, Integer> count = new HashMap<>();
        count.put(0, 1);
        // è®°å½•å’Œä¸º k çš„å­æ•°ç»„ä¸ªæ•°
        int res = 0;

        // è®¡ç®— nums çš„å‰ç¼€å’Œ
        for (int i = 1; i <= n; i++) {
            preSum[i] = preSum[i - 1] + nums[i - 1];
            // å¦‚æœä¹‹å‰å­˜åœ¨å€¼ä¸º need çš„å‰ç¼€å’Œ
            // è¯´æ˜å­˜åœ¨ä»¥ nums[i-1] ç»“å°¾çš„å­æ•°ç»„çš„å’Œä¸º k
            int need = preSum[i] - k;
            if (count.containsKey(need)) {
                res += count.get(need);
            }
            // å°†å½“å‰å‰ç¼€å’Œå­˜å…¥å“ˆå¸Œè¡¨
            if (!count.containsKey(preSum[i])) {
                count.put(preSum[i], 1);
            } else {
                count.put(preSum[i], count.get(preSum[i]) + 1);
            }
        }
        return res;
    }
}
```

**ç±»ä¼¼é¢˜ç›®**ï¼š
  - [1658. å°† x å‡åˆ° 0 çš„æœ€å°æ“ä½œæ•° ğŸŸ ](/problems/minimum-operations-to-reduce-x-to-zero)
  - [437. è·¯å¾„æ€»å’Œ III ğŸŸ ](/problems/path-sum-iii)
  - [713. ä¹˜ç§¯å°äºKçš„å­æ•°ç»„ ğŸŸ ](/problems/subarray-product-less-than-k)
  - [å‰‘æŒ‡ Offer 57 - II. å’Œä¸ºsçš„è¿ç»­æ­£æ•°åºåˆ— ğŸŸ¢](/problems/he-wei-sde-lian-xu-zheng-shu-xu-lie-lcof)
  - [å‰‘æŒ‡ Offer II 009. ä¹˜ç§¯å°äº K çš„å­æ•°ç»„ ğŸŸ ](/problems/ZVAVXX)
  - [å‰‘æŒ‡ Offer II 010. å’Œä¸º k çš„å­æ•°ç»„ ğŸŸ ](/problems/QTMn0o)
  - [å‰‘æŒ‡ Offer II 050. å‘ä¸‹çš„è·¯å¾„èŠ‚ç‚¹ä¹‹å’Œ ğŸŸ ](/problems/6eUYwP)

</details>
</div>



